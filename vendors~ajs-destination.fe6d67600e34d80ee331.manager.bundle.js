/*! For license information please see vendors~ajs-destination.fe6d67600e34d80ee331.manager.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[10,5],{829:function(module,exports,__webpack_require__){"use strict";var nativeClass,hasToStringTag=__webpack_require__(870),builtin=__webpack_require__(874),polyfill=__webpack_require__(875);nativeClass=hasToStringTag()?polyfill:builtin,module.exports=nativeClass},832:function(module,__webpack_exports__,__webpack_require__){"use strict";function isPlanEventEnabled(plan,planEvent){var _a,_b;return"boolean"==typeof(null==planEvent?void 0:planEvent.enabled)?planEvent.enabled:null===(_b=null===(_a=null==plan?void 0:plan.__default)||void 0===_a?void 0:_a.enabled)||void 0===_b||_b}__webpack_require__.d(__webpack_exports__,"a",(function(){return isPlanEventEnabled}))},833:function(module,exports,__webpack_require__){module.exports=function(t,n,e,i,o){for(n=n.split?n.split("."):n,i=0;i<n.length;i++)t=t?t[n[i]]:o;return t===o?e:t}},834:function(module,exports,__webpack_require__){"use strict";var ctor,hasUint32ArraySupport=__webpack_require__(866),builtin=__webpack_require__(881),polyfill=__webpack_require__(882);ctor=hasUint32ArraySupport()?builtin:polyfill,module.exports=ctor},835:function(module,exports,__webpack_require__){"use strict";var ctor,hasFloat64ArraySupport=__webpack_require__(883),builtin=__webpack_require__(888),polyfill=__webpack_require__(889);ctor=hasFloat64ArraySupport()?builtin:polyfill,module.exports=ctor},836:function(module,exports,__webpack_require__){"use strict";var IS_LITTLE_ENDIAN=__webpack_require__(891);module.exports=IS_LITTLE_ENDIAN},838:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"applyDestinationMiddleware",(function(){return applyDestinationMiddleware})),__webpack_require__.d(__webpack_exports__,"sourceMiddlewarePlugin",(function(){return sourceMiddlewarePlugin}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_core_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(44),_lib_as_promise__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(185),_lib_to_facade__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(313);function applyDestinationMiddleware(destination,evt,middleware){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(this,void 0,void 0,(function(){function applyMiddleware(event,fn){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(this,void 0,void 0,(function(){var nextCalled,returnedEvent,_a;return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(this,(function(_b){switch(_b.label){case 0:return nextCalled=!1,returnedEvent=null,[4,Object(_lib_as_promise__WEBPACK_IMPORTED_MODULE_2__.a)(fn({payload:Object(_lib_to_facade__WEBPACK_IMPORTED_MODULE_3__.a)(event,{clone:!0,traverse:!1}),integration:destination,next:function(evt){nextCalled=!0,null===evt&&(returnedEvent=null),evt&&(returnedEvent=evt.obj)}}))];case 1:return _b.sent(),nextCalled||null===returnedEvent||(returnedEvent.integrations=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({},event.integrations),((_a={})[destination]=!1,_a))),[2,returnedEvent]}}))}))}var _i,middleware_1,md,result;return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(this,(function(_a){switch(_a.label){case 0:_i=0,middleware_1=middleware,_a.label=1;case 1:return _i<middleware_1.length?(md=middleware_1[_i],[4,applyMiddleware(evt,md)]):[3,4];case 2:if(null===(result=_a.sent()))return[2,null];evt=result,_a.label=3;case 3:return _i++,[3,1];case 4:return[2,evt]}}))}))}function sourceMiddlewarePlugin(fn,integrations){function apply(ctx){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(this,void 0,void 0,(function(){var nextCalled;return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(this,(function(_a){switch(_a.label){case 0:return nextCalled=!1,[4,Object(_lib_as_promise__WEBPACK_IMPORTED_MODULE_2__.a)(fn({payload:Object(_lib_to_facade__WEBPACK_IMPORTED_MODULE_3__.a)(ctx.event,{clone:!0,traverse:!1}),integrations:null!=integrations?integrations:{},next:function(evt){nextCalled=!0,evt&&(ctx.event=evt.obj)}}))];case 1:if(_a.sent(),!nextCalled)throw new _core_context__WEBPACK_IMPORTED_MODULE_1__.b({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,ctx]}}))}))}return{name:"Source Middleware ".concat(fn.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(ctx){return Promise.resolve(ctx)},track:apply,page:apply,identify:apply,alias:apply,group:apply}}},839:function(module,exports,__webpack_require__){"use strict";var FLOAT64_PINF=Number.POSITIVE_INFINITY;module.exports=FLOAT64_PINF},840:function(module,exports,__webpack_require__){"use strict";var FLOAT64_NINF=__webpack_require__(855).NEGATIVE_INFINITY;module.exports=FLOAT64_NINF},841:function(module,exports,__webpack_require__){"use strict";module.exports=1023},842:function(module,exports,__webpack_require__){"use strict";var isnan=__webpack_require__(860);module.exports=isnan},843:function(module,exports,__webpack_require__){"use strict";var isInfinite=__webpack_require__(861);module.exports=isInfinite},844:function(module,exports,__webpack_require__){"use strict";var toWords=__webpack_require__(864);module.exports=toWords},845:function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;module.exports=toStr},846:function(module,exports,__webpack_require__){"use strict";var getHighWord=__webpack_require__(911);module.exports=getHighWord},847:function(module,exports,__webpack_require__){"use strict";var fromWords=__webpack_require__(913);module.exports=fromWords},850:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Store=exports.matches=exports.transform=void 0;var transformers_1=__webpack_require__(851);Object.defineProperty(exports,"transform",{enumerable:!0,get:function(){return __importDefault(transformers_1).default}});var matchers_1=__webpack_require__(925);Object.defineProperty(exports,"matches",{enumerable:!0,get:function(){return __importDefault(matchers_1).default}});var store_1=__webpack_require__(926);Object.defineProperty(exports,"Store",{enumerable:!0,get:function(){return __importDefault(store_1).default}})},851:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var md5_1=__importDefault(__webpack_require__(852)),dlv_1=__importDefault(__webpack_require__(833)),math_base_special_ldexp_1=__importDefault(__webpack_require__(853)),dset_1=__webpack_require__(172),unset_1=__webpack_require__(924);function dropProperties(payload,config){for(var key in config.drop)if(config.drop.hasOwnProperty(key)){var field=""===key?payload:(0,dlv_1.default)(payload,key);if("object"==typeof field&&null!==field)for(var _i=0,_a=config.drop[key];_i<_a.length;_i++){delete field[_a[_i]]}}}function allowProperties(payload,config){for(var key in config.allow)if(config.allow.hasOwnProperty(key)){var field=""===key?payload:(0,dlv_1.default)(payload,key);if("object"==typeof field&&null!==field)for(var k in field)field.hasOwnProperty(k)&&-1===config.allow[key].indexOf(k)&&delete field[k]}}function mapProperties(payload,config){var initialPayload=JSON.parse(JSON.stringify(payload));for(var key in config.map)if(config.map.hasOwnProperty(key)){var actionMap=config.map[key],splitKey=key.split("."),parent_1=void 0;if(splitKey.length>1?(splitKey.pop(),parent_1=(0,dlv_1.default)(initialPayload,splitKey.join("."))):parent_1=payload,"object"==typeof parent_1){if(actionMap.copy){var valueToCopy=(0,dlv_1.default)(initialPayload,actionMap.copy);void 0!==valueToCopy&&(0,dset_1.dset)(payload,key,valueToCopy)}else if(actionMap.move){var valueToMove=(0,dlv_1.default)(initialPayload,actionMap.move);void 0!==valueToMove&&(0,dset_1.dset)(payload,key,valueToMove),(0,unset_1.unset)(payload,actionMap.move)}else actionMap.hasOwnProperty("set")&&(0,dset_1.dset)(payload,key,actionMap.set);if(actionMap.to_string){var valueToString=(0,dlv_1.default)(payload,key);if("string"==typeof valueToString||"object"==typeof valueToString&&null!==valueToString)continue;void 0!==valueToString?(0,dset_1.dset)(payload,key,JSON.stringify(valueToString)):(0,dset_1.dset)(payload,key,"undefined")}}}}function sampleEvent(payload,config){return!(config.sample.percent<=0)&&(config.sample.percent>=1||(config.sample.path?function sampleConsistentPercent(payload,config){var field=(0,dlv_1.default)(payload,config.sample.path),digest=(0,md5_1.default)(JSON.stringify(field)),exponent=-64,significand=[];consumeDigest(digest.slice(0,8),significand);for(var leadingZeros=0,i=0;i<64&&1!==significand[i];i++)leadingZeros++;if(0!==leadingZeros){var val=[];consumeDigest(digest.slice(9,16),val),exponent-=leadingZeros,significand.splice(0,leadingZeros),val.splice(64-leadingZeros),significand=significand.concat(val)}return significand[63]=0===significand[63]?1:0,(0,math_base_special_ldexp_1.default)(parseInt(significand.join(""),2),exponent)<config.sample.percent}(payload,config):function samplePercent(percent){return Math.random()<=percent}(config.sample.percent)))}function consumeDigest(digest,arr){for(var i=0;i<8;i++)for(var remainder=digest[i],binary=128;binary>=1;binary/=2)remainder-binary>=0?(remainder-=binary,arr.push(1)):arr.push(0)}exports.default=function transform(payload,transformers){for(var transformedPayload=payload,_i=0,transformers_1=transformers;_i<transformers_1.length;_i++){var transformer=transformers_1[_i];switch(transformer.type){case"drop":return null;case"drop_properties":dropProperties(transformedPayload,transformer.config);break;case"allow_properties":allowProperties(transformedPayload,transformer.config);break;case"sample_event":if(sampleEvent(transformedPayload,transformer.config))break;return null;case"map_properties":mapProperties(transformedPayload,transformer.config);break;case"hash_properties":break;default:throw new Error('Transformer of type "'.concat(transformer.type,'" is unsupported.'))}}return transformedPayload}},852:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);for(var r=[],o=0;o<64;)r[o]=0|4294967296*Math.sin(++o%Math.PI);__webpack_exports__.default=function(t){var e,f,n,a=[e=1732584193,f=4023233417,~e,~f],c=[],h=unescape(encodeURI(t))+"Â€",u=h.length;for(t=--u/4+2|15,c[--t]=8*u;~u;)c[u>>2]|=h.charCodeAt(u)<<8*u--;for(o=h=0;o<t;o+=16){for(u=a;h<64;u=[n=u[3],e+((n=u[0]+[e&f|~e&n,n&e|~n&f,e^f^n,f^(e|~n)][u=h>>4]+r[h]+~~c[o|15&[h,5*h+1,3*h+5,7*h][u]])<<(u=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*u+h++%4])|n>>>-u),e,f])e=0|u[1],f=u[2];for(h=4;h;)a[--h]+=u[h]}for(t="";h<32;)t+=(a[h>>3]>>4*(1^h++)&15).toString(16);return t}},853:function(module,exports,__webpack_require__){"use strict";var ldexp=__webpack_require__(854);module.exports=ldexp},854:function(module,exports,__webpack_require__){"use strict";var PINF=__webpack_require__(839),NINF=__webpack_require__(840),BIAS=__webpack_require__(841),MAX_EXPONENT=__webpack_require__(857),MAX_SUBNORMAL_EXPONENT=__webpack_require__(858),MIN_SUBNORMAL_EXPONENT=__webpack_require__(859),isnan=__webpack_require__(842),isInfinite=__webpack_require__(843),copysign=__webpack_require__(862),normalize=__webpack_require__(915),floatExp=__webpack_require__(921),toWords=__webpack_require__(844),fromWords=__webpack_require__(847),FRAC=[0,0],WORDS=[0,0];module.exports=function ldexp(frac,exp){var high,m;return 0===frac||isnan(frac)||isInfinite(frac)?frac:(normalize(FRAC,frac),exp+=FRAC[1],(exp+=floatExp(frac=FRAC[0]))<MIN_SUBNORMAL_EXPONENT?copysign(0,frac):exp>MAX_EXPONENT?frac<0?NINF:PINF:(exp<=MAX_SUBNORMAL_EXPONENT?(exp+=52,m=2220446049250313e-31):m=1,toWords(WORDS,frac),high=WORDS[0],high&=2148532223,m*fromWords(high|=exp+BIAS<<20,WORDS[1])))}},855:function(module,exports,__webpack_require__){"use strict";var Number=__webpack_require__(856);module.exports=Number},856:function(module,exports,__webpack_require__){"use strict";module.exports=Number},857:function(module,exports,__webpack_require__){"use strict";module.exports=1023},858:function(module,exports,__webpack_require__){"use strict";module.exports=-1023},859:function(module,exports,__webpack_require__){"use strict";module.exports=-1074},860:function(module,exports,__webpack_require__){"use strict";module.exports=function isnan(x){return x!=x}},861:function(module,exports,__webpack_require__){"use strict";var PINF=__webpack_require__(839),NINF=__webpack_require__(840);module.exports=function isInfinite(x){return x===PINF||x===NINF}},862:function(module,exports,__webpack_require__){"use strict";var main=__webpack_require__(863);module.exports=main},863:function(module,exports,__webpack_require__){"use strict";var toWords=__webpack_require__(844),getHighWord=__webpack_require__(846),fromWords=__webpack_require__(847),WORDS=[0,0];module.exports=function copysign(x,y){var hx,hy;return toWords(WORDS,x),hx=WORDS[0],hx&=2147483647,hy=getHighWord(y),fromWords(hx|=hy&=2147483648,WORDS[1])}},864:function(module,exports,__webpack_require__){"use strict";var fcn=__webpack_require__(865);module.exports=function toWords(out,x){return 1===arguments.length?fcn([0,0],out):fcn(out,x)}},865:function(module,exports,__webpack_require__){"use strict";var Uint32Array=__webpack_require__(834),Float64Array=__webpack_require__(835),indices=__webpack_require__(890),FLOAT64_VIEW=new Float64Array(1),UINT32_VIEW=new Uint32Array(FLOAT64_VIEW.buffer),HIGH=indices.HIGH,LOW=indices.LOW;module.exports=function toWords(out,x){return FLOAT64_VIEW[0]=x,out[0]=UINT32_VIEW[HIGH],out[1]=UINT32_VIEW[LOW],out}},866:function(module,exports,__webpack_require__){"use strict";var hasUint32ArraySupport=__webpack_require__(867);module.exports=hasUint32ArraySupport},867:function(module,exports,__webpack_require__){"use strict";var isUint32Array=__webpack_require__(868),UINT32_MAX=__webpack_require__(879),GlobalUint32Array=__webpack_require__(880);module.exports=function hasUint32ArraySupport(){var bool,arr;if("function"!=typeof GlobalUint32Array)return!1;try{arr=new GlobalUint32Array(arr=[1,3.14,-3.14,UINT32_MAX+1,UINT32_MAX+2]),bool=isUint32Array(arr)&&1===arr[0]&&3===arr[1]&&arr[2]===UINT32_MAX-2&&0===arr[3]&&1===arr[4]}catch(err){bool=!1}return bool}},868:function(module,exports,__webpack_require__){"use strict";var isUint32Array=__webpack_require__(869);module.exports=isUint32Array},869:function(module,exports,__webpack_require__){"use strict";var nativeClass=__webpack_require__(829),hasUint32Array="function"==typeof Uint32Array;module.exports=function isUint32Array(value){return hasUint32Array&&value instanceof Uint32Array||"[object Uint32Array]"===nativeClass(value)}},870:function(module,exports,__webpack_require__){"use strict";var hasToStringTagSupport=__webpack_require__(871);module.exports=hasToStringTagSupport},871:function(module,exports,__webpack_require__){"use strict";var FLG=__webpack_require__(872)();module.exports=function hasToStringTagSupport(){return FLG&&"symbol"==typeof Symbol.toStringTag}},872:function(module,exports,__webpack_require__){"use strict";var hasSymbolSupport=__webpack_require__(873);module.exports=hasSymbolSupport},873:function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbolSupport(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}},874:function(module,exports,__webpack_require__){"use strict";var toStr=__webpack_require__(845);module.exports=function nativeClass(v){return toStr.call(v)}},875:function(module,exports,__webpack_require__){"use strict";var hasOwnProp=__webpack_require__(876),toStringTag=__webpack_require__(878),toStr=__webpack_require__(845);module.exports=function nativeClass(v){var isOwn,tag,out;if(null==v)return toStr.call(v);tag=v[toStringTag],isOwn=hasOwnProp(v,toStringTag);try{v[toStringTag]=void 0}catch(err){return toStr.call(v)}return out=toStr.call(v),isOwn?v[toStringTag]=tag:delete v[toStringTag],out}},876:function(module,exports,__webpack_require__){"use strict";var hasOwnProp=__webpack_require__(877);module.exports=hasOwnProp},877:function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty;module.exports=function hasOwnProp(value,property){return null!=value&&has.call(value,property)}},878:function(module,exports,__webpack_require__){"use strict";var toStrTag="function"==typeof Symbol?Symbol.toStringTag:"";module.exports=toStrTag},879:function(module,exports,__webpack_require__){"use strict";module.exports=4294967295},880:function(module,exports,__webpack_require__){"use strict";var main="function"==typeof Uint32Array?Uint32Array:null;module.exports=main},881:function(module,exports,__webpack_require__){"use strict";var ctor="function"==typeof Uint32Array?Uint32Array:void 0;module.exports=ctor},882:function(module,exports,__webpack_require__){"use strict";module.exports=function polyfill(){throw new Error("not implemented")}},883:function(module,exports,__webpack_require__){"use strict";var hasFloat64ArraySupport=__webpack_require__(884);module.exports=hasFloat64ArraySupport},884:function(module,exports,__webpack_require__){"use strict";var isFloat64Array=__webpack_require__(885),GlobalFloat64Array=__webpack_require__(887);module.exports=function hasFloat64ArraySupport(){var bool,arr;if("function"!=typeof GlobalFloat64Array)return!1;try{arr=new GlobalFloat64Array([1,3.14,-3.14,NaN]),bool=isFloat64Array(arr)&&1===arr[0]&&3.14===arr[1]&&-3.14===arr[2]&&arr[3]!=arr[3]}catch(err){bool=!1}return bool}},885:function(module,exports,__webpack_require__){"use strict";var isFloat64Array=__webpack_require__(886);module.exports=isFloat64Array},886:function(module,exports,__webpack_require__){"use strict";var nativeClass=__webpack_require__(829),hasFloat64Array="function"==typeof Float64Array;module.exports=function isFloat64Array(value){return hasFloat64Array&&value instanceof Float64Array||"[object Float64Array]"===nativeClass(value)}},887:function(module,exports,__webpack_require__){"use strict";var main="function"==typeof Float64Array?Float64Array:null;module.exports=main},888:function(module,exports,__webpack_require__){"use strict";var ctor="function"==typeof Float64Array?Float64Array:void 0;module.exports=ctor},889:function(module,exports,__webpack_require__){"use strict";module.exports=function polyfill(){throw new Error("not implemented")}},890:function(module,exports,__webpack_require__){"use strict";var indices,HIGH,LOW;!0===__webpack_require__(836)?(HIGH=1,LOW=0):(HIGH=0,LOW=1),indices={HIGH:HIGH,LOW:LOW},module.exports=indices},891:function(module,exports,__webpack_require__){"use strict";var bool,ctors=__webpack_require__(892);bool=function isLittleEndian(){var uint16view;return(uint16view=new ctors.uint16(1))[0]=4660,52===new ctors.uint8(uint16view.buffer)[0]}(),module.exports=bool},892:function(module,exports,__webpack_require__){"use strict";var Uint8Array=__webpack_require__(893),ctors={uint16:__webpack_require__(902),uint8:Uint8Array};module.exports=ctors},893:function(module,exports,__webpack_require__){"use strict";var ctor,hasUint8ArraySupport=__webpack_require__(894),builtin=__webpack_require__(900),polyfill=__webpack_require__(901);ctor=hasUint8ArraySupport()?builtin:polyfill,module.exports=ctor},894:function(module,exports,__webpack_require__){"use strict";var hasUint8ArraySupport=__webpack_require__(895);module.exports=hasUint8ArraySupport},895:function(module,exports,__webpack_require__){"use strict";var isUint8Array=__webpack_require__(896),UINT8_MAX=__webpack_require__(898),GlobalUint8Array=__webpack_require__(899);module.exports=function hasUint8ArraySupport(){var bool,arr;if("function"!=typeof GlobalUint8Array)return!1;try{arr=new GlobalUint8Array(arr=[1,3.14,-3.14,UINT8_MAX+1,UINT8_MAX+2]),bool=isUint8Array(arr)&&1===arr[0]&&3===arr[1]&&arr[2]===UINT8_MAX-2&&0===arr[3]&&1===arr[4]}catch(err){bool=!1}return bool}},896:function(module,exports,__webpack_require__){"use strict";var isUint8Array=__webpack_require__(897);module.exports=isUint8Array},897:function(module,exports,__webpack_require__){"use strict";var nativeClass=__webpack_require__(829),hasUint8Array="function"==typeof Uint8Array;module.exports=function isUint8Array(value){return hasUint8Array&&value instanceof Uint8Array||"[object Uint8Array]"===nativeClass(value)}},898:function(module,exports,__webpack_require__){"use strict";module.exports=255},899:function(module,exports,__webpack_require__){"use strict";var main="function"==typeof Uint8Array?Uint8Array:null;module.exports=main},900:function(module,exports,__webpack_require__){"use strict";var ctor="function"==typeof Uint8Array?Uint8Array:void 0;module.exports=ctor},901:function(module,exports,__webpack_require__){"use strict";module.exports=function polyfill(){throw new Error("not implemented")}},902:function(module,exports,__webpack_require__){"use strict";var ctor,hasUint16ArraySupport=__webpack_require__(903),builtin=__webpack_require__(909),polyfill=__webpack_require__(910);ctor=hasUint16ArraySupport()?builtin:polyfill,module.exports=ctor},903:function(module,exports,__webpack_require__){"use strict";var hasUint16ArraySupport=__webpack_require__(904);module.exports=hasUint16ArraySupport},904:function(module,exports,__webpack_require__){"use strict";var isUint16Array=__webpack_require__(905),UINT16_MAX=__webpack_require__(907),GlobalUint16Array=__webpack_require__(908);module.exports=function hasUint16ArraySupport(){var bool,arr;if("function"!=typeof GlobalUint16Array)return!1;try{arr=new GlobalUint16Array(arr=[1,3.14,-3.14,UINT16_MAX+1,UINT16_MAX+2]),bool=isUint16Array(arr)&&1===arr[0]&&3===arr[1]&&arr[2]===UINT16_MAX-2&&0===arr[3]&&1===arr[4]}catch(err){bool=!1}return bool}},905:function(module,exports,__webpack_require__){"use strict";var isUint16Array=__webpack_require__(906);module.exports=isUint16Array},906:function(module,exports,__webpack_require__){"use strict";var nativeClass=__webpack_require__(829),hasUint16Array="function"==typeof Uint16Array;module.exports=function isUint16Array(value){return hasUint16Array&&value instanceof Uint16Array||"[object Uint16Array]"===nativeClass(value)}},907:function(module,exports,__webpack_require__){"use strict";module.exports=65535},908:function(module,exports,__webpack_require__){"use strict";var main="function"==typeof Uint16Array?Uint16Array:null;module.exports=main},909:function(module,exports,__webpack_require__){"use strict";var ctor="function"==typeof Uint16Array?Uint16Array:void 0;module.exports=ctor},910:function(module,exports,__webpack_require__){"use strict";module.exports=function polyfill(){throw new Error("not implemented")}},911:function(module,exports,__webpack_require__){"use strict";var Uint32Array=__webpack_require__(834),Float64Array=__webpack_require__(835),HIGH=__webpack_require__(912),FLOAT64_VIEW=new Float64Array(1),UINT32_VIEW=new Uint32Array(FLOAT64_VIEW.buffer);module.exports=function getHighWord(x){return FLOAT64_VIEW[0]=x,UINT32_VIEW[HIGH]}},912:function(module,exports,__webpack_require__){"use strict";var HIGH;HIGH=!0===__webpack_require__(836)?1:0,module.exports=HIGH},913:function(module,exports,__webpack_require__){"use strict";var Uint32Array=__webpack_require__(834),Float64Array=__webpack_require__(835),indices=__webpack_require__(914),FLOAT64_VIEW=new Float64Array(1),UINT32_VIEW=new Uint32Array(FLOAT64_VIEW.buffer),HIGH=indices.HIGH,LOW=indices.LOW;module.exports=function fromWords(high,low){return UINT32_VIEW[HIGH]=high,UINT32_VIEW[LOW]=low,FLOAT64_VIEW[0]}},914:function(module,exports,__webpack_require__){"use strict";var indices,HIGH,LOW;!0===__webpack_require__(836)?(HIGH=1,LOW=0):(HIGH=0,LOW=1),indices={HIGH:HIGH,LOW:LOW},module.exports=indices},915:function(module,exports,__webpack_require__){"use strict";var normalize=__webpack_require__(916);module.exports=normalize},916:function(module,exports,__webpack_require__){"use strict";var fcn=__webpack_require__(917);module.exports=function normalize(out,x){return 1===arguments.length?fcn([0,0],out):fcn(out,x)}},917:function(module,exports,__webpack_require__){"use strict";var FLOAT64_SMALLEST_NORMAL=__webpack_require__(918),isInfinite=__webpack_require__(843),isnan=__webpack_require__(842),abs=__webpack_require__(919);module.exports=function normalize(out,x){return isnan(x)||isInfinite(x)?(out[0]=x,out[1]=0,out):0!==x&&abs(x)<FLOAT64_SMALLEST_NORMAL?(out[0]=4503599627370496*x,out[1]=-52,out):(out[0]=x,out[1]=0,out)}},918:function(module,exports,__webpack_require__){"use strict";module.exports=22250738585072014e-324},919:function(module,exports,__webpack_require__){"use strict";var abs=__webpack_require__(920);module.exports=abs},920:function(module,exports,__webpack_require__){"use strict";module.exports=function abs(x){return Math.abs(x)}},921:function(module,exports,__webpack_require__){"use strict";var exponent=__webpack_require__(922);module.exports=exponent},922:function(module,exports,__webpack_require__){"use strict";var getHighWord=__webpack_require__(846),EXP_MASK=__webpack_require__(923),BIAS=__webpack_require__(841);module.exports=function exponent(x){var high=getHighWord(x);return(high=(high&EXP_MASK)>>>20)-BIAS|0}},923:function(module,exports,__webpack_require__){"use strict";module.exports=2146435072},924:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.unset=void 0;var dlv_1=__importDefault(__webpack_require__(833));exports.unset=function unset(obj,prop){if((0,dlv_1.default)(obj,prop)){for(var segs=prop.split("."),last=segs.pop();segs.length&&"\\"===segs[segs.length-1].slice(-1);)last=segs.pop().slice(0,-1)+"."+last;for(;segs.length;)obj=obj[prop=segs.shift()];return delete obj[last]}return!0}},925:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var dlv_1=__importDefault(__webpack_require__(833));function fqlEvaluate(ir,event){if(!Array.isArray(ir))return!0===getValue(ir,event);var item=ir[0];switch(item){case"!":return!fqlEvaluate(ir[1],event);case"or":for(var i=1;i<ir.length;i++)if(fqlEvaluate(ir[i],event))return!0;return!1;case"and":for(i=1;i<ir.length;i++)if(!fqlEvaluate(ir[i],event))return!1;return!0;case"=":case"!=":return function compareItems(first,second,operator,event){isIR(first)&&(first=fqlEvaluate(first,event));isIR(second)&&(second=fqlEvaluate(second,event));"object"==typeof first&&"object"==typeof second&&(first=JSON.stringify(first),second=JSON.stringify(second));switch(operator){case"=":return first===second;case"!=":return first!==second;default:throw new Error("Invalid operator in compareItems: ".concat(operator))}}(getValue(ir[1],event),getValue(ir[2],event),item,event);case"<=":case"<":case">":case">=":return function compareNumbers(first,second,operator,event){isIR(first)&&(first=fqlEvaluate(first,event));isIR(second)&&(second=fqlEvaluate(second,event));if("number"!=typeof first||"number"!=typeof second)return!1;switch(operator){case"<=":return first<=second;case">=":return first>=second;case"<":return first<second;case">":return first>second;default:throw new Error("Invalid operator in compareNumbers: ".concat(operator))}}(getValue(ir[1],event),getValue(ir[2],event),item,event);case"contains":return function contains(first,second){if("string"!=typeof first||"string"!=typeof second)return!1;return-1!==first.indexOf(second)}(getValue(ir[1],event),getValue(ir[2],event));case"match":return function match(str,glob){if("string"!=typeof str||"string"!=typeof glob)return!1;return function globMatches(pattern,str){var _a,_b;Pattern:for(;pattern.length>0;){var star=void 0,chunk=void 0;if(star=(_a=scanChunk(pattern)).star,chunk=_a.chunk,pattern=_a.pattern,star&&""===chunk)return!0;var _c=matchChunk(chunk,str),t=_c.t,ok=_c.ok,err=_c.err;if(err)return!1;if(!ok||!(0===t.length||pattern.length>0)){if(star)for(var i=0;i<str.length;i++){if(t=(_b=matchChunk(chunk,str.slice(i+1))).t,ok=_b.ok,err=_b.err,ok){if(0===pattern.length&&t.length>0)continue;str=t;continue Pattern}if(err)return!1}return!1}str=t}return 0===str.length}(glob,str)}(getValue(ir[1],event),getValue(ir[2],event));case"lowercase":var target=getValue(ir[1],event);return"string"!=typeof target?null:target.toLowerCase();case"typeof":return typeof getValue(ir[1],event);case"length":return function length(item){if(null===item)return 0;if(!Array.isArray(item)&&"string"!=typeof item)return NaN;return item.length}(getValue(ir[1],event));default:throw new Error("FQL IR could not evaluate for token: ".concat(item))}}function getValue(item,event){return Array.isArray(item)?item:"object"==typeof item?item.value:(0,dlv_1.default)(event,item)}function isIR(value){return!!Array.isArray(value)&&(("lowercase"===value[0]||"length"===value[0]||"typeof"===value[0])&&2===value.length||("contains"===value[0]||"match"===value[0])&&3===value.length)}function scanChunk(pattern){for(var result={star:!1,chunk:"",pattern:""};pattern.length>0&&"*"===pattern[0];)pattern=pattern.slice(1),result.star=!0;var i,inRange=!1;Scan:for(i=0;i<pattern.length;i++)switch(pattern[i]){case"\\":i+1<pattern.length&&i++;break;case"[":inRange=!0;break;case"]":inRange=!1;break;case"*":if(!inRange)break Scan}return result.chunk=pattern.slice(0,i),result.pattern=pattern.slice(i),result}function matchChunk(chunk,str){for(var _a,_b,result={t:"",ok:!1,err:!1};chunk.length>0;){if(0===str.length)return result;switch(chunk[0]){case"[":var char=str[0];str=str.slice(1);var notNegated=!0;(chunk=chunk.slice(1)).length>0&&"^"===chunk[0]&&(notNegated=!1,chunk=chunk.slice(1));for(var foundMatch=!1,nRange=0;;){if(chunk.length>0&&"]"===chunk[0]&&nRange>0){chunk=chunk.slice(1);break}var lo,hi="";if(lo=(_a=getEsc(chunk)).char,chunk=_a.newChunk,_a.err)return result;if(hi=lo,"-"===chunk[0]&&(hi=(_b=getEsc(chunk.slice(1))).char,chunk=_b.newChunk,_b.err))return result;lo<=char&&char<=hi&&(foundMatch=!0),nRange++}if(foundMatch!==notNegated)return result;break;case"?":str=str.slice(1),chunk=chunk.slice(1);break;case"\\":if(0===(chunk=chunk.slice(1)).length)return result.err=!0,result;default:if(chunk[0]!==str[0])return result;str=str.slice(1),chunk=chunk.slice(1)}}return result.t=str,result.ok=!0,result.err=!1,result}function getEsc(chunk){var result={char:"",newChunk:"",err:!1};return 0===chunk.length||"-"===chunk[0]||"]"===chunk[0]||"\\"===chunk[0]&&0===(chunk=chunk.slice(1)).length?(result.err=!0,result):(result.char=chunk[0],result.newChunk=chunk.slice(1),0===result.newChunk.length&&(result.err=!0),result)}exports.default=function matches(event,matcher){if(!matcher)throw new Error("No matcher supplied!");switch(matcher.type){case"all":return!0;case"fql":return function fql(ir,event){if(!ir)return!1;try{ir=JSON.parse(ir)}catch(e){throw new Error('Failed to JSON.parse FQL intermediate representation "'.concat(ir,'": ').concat(e))}var result=fqlEvaluate(ir,event);if("boolean"!=typeof result)return!1;return result}(matcher.ir,event);default:throw new Error("Matcher of type ".concat(matcher.type," unsupported."))}}},926:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Store=function(){function Store(rules){this.rules=[],this.rules=rules||[]}return Store.prototype.getRulesByDestinationName=function(destinationName){for(var rules=[],_i=0,_a=this.rules;_i<_a.length;_i++){var rule=_a[_i];rule.destinationName!==destinationName&&void 0!==rule.destinationName||rules.push(rule)}return rules},Store}();exports.default=Store},973:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LegacyDestination",(function(){return ajs_destination_LegacyDestination})),__webpack_require__.d(__webpack_exports__,"ajsDestinations",(function(){return ajsDestinations}));var tslib_es6=__webpack_require__(2),dist=__webpack_require__(114),connection=__webpack_require__(102),context=__webpack_require__(44),environment=__webpack_require__(198),delivery=__webpack_require__(128),as_promise=__webpack_require__(185),is_plan_event_enabled=__webpack_require__(832),merged_options=__webpack_require__(380),p_while=__webpack_require__(382),priority_queue=__webpack_require__(113),persisted=__webpack_require__(139),middleware=__webpack_require__(838),tsub_dist=__webpack_require__(850),parse_cdn=__webpack_require__(171),load_script=__webpack_require__(220);function normalizeName(name){return name.toLowerCase().replace(".","").replace(/\s+/g,"-")}function obfuscatePathName(pathName,obfuscate){return void 0===obfuscate&&(obfuscate=!1),obfuscate?btoa(pathName).replace(/=/g,""):void 0}function loadIntegration(ctx,analyticsInstance,name,version,settings,obfuscate){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var pathName,obfuscatedPathName,path,fullPath,err_1,deps,integrationBuilder,integration;return Object(tslib_es6.d)(this,(function(_a){switch(_a.label){case 0:pathName=normalizeName(name),obfuscatedPathName=obfuscatePathName(pathName,obfuscate),path=Object(parse_cdn.b)(),fullPath="".concat(path,"/integrations/").concat(null!=obfuscatedPathName?obfuscatedPathName:pathName,"/").concat(version,"/").concat(null!=obfuscatedPathName?obfuscatedPathName:pathName,".dynamic.js.gz"),_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,Object(load_script.a)(fullPath)];case 2:return _a.sent(),function recordLoadMetrics(fullPath,ctx,name){var _a,_b;try{var metric=(null!==(_b=null===(_a=null===window||void 0===window?void 0:window.performance)||void 0===_a?void 0:_a.getEntriesByName(fullPath,"resource"))&&void 0!==_b?_b:[])[0];metric&&ctx.stats.gauge("legacy_destination_time",Math.round(metric.duration),Object(tslib_es6.f)([name],metric.duration<100?["cached"]:[],!0))}catch(_){}}(fullPath,ctx,name),[3,4];case 3:throw err_1=_a.sent(),ctx.stats.gauge("legacy_destination_time",-1,["plugin:".concat(name),"failed"]),err_1;case 4:return deps=window["".concat(pathName,"Deps")],[4,Promise.all(deps.map((function(dep){return Object(load_script.a)(path+dep+".gz")})))];case 5:return _a.sent(),window["".concat(pathName,"Loader")](),(integrationBuilder=window["".concat(pathName,"Integration")]).Integration&&(integrationBuilder({user:function(){return analyticsInstance.user()},addIntegration:function(){}}),integrationBuilder=integrationBuilder.Integration),(integration=new integrationBuilder(settings)).analytics=analyticsInstance,[2,integration]}}))}))}function flushQueue(xt,queue){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var failedQueue,_this=this;return Object(tslib_es6.d)(this,(function(_a){switch(_a.label){case 0:return failedQueue=[],Object(connection.a)()?[2,queue]:[4,Object(p_while.a)((function(){return queue.length>0&&Object(connection.b)()}),(function(){return Object(tslib_es6.b)(_this,void 0,void 0,(function(){var ctx,result;return Object(tslib_es6.d)(this,(function(_a){switch(_a.label){case 0:return(ctx=queue.pop())?[4,Object(delivery.a)(ctx,xt)]:[2];case 1:return result=_a.sent(),result instanceof context.a||failedQueue.push(ctx),[2]}}))}))}))];case 1:return _a.sent(),failedQueue.map((function(failed){return queue.pushWithBackoff(failed)})),[2,queue]}}))}))}var ajs_destination_LegacyDestination=function(){function LegacyDestination(name,version,settings,options){void 0===settings&&(settings={}),this.options={},this.type="destination",this.middleware=[],this._ready=!1,this._initialized=!1,this.flushing=!1,this.name=name,this.version=version,this.settings=Object(tslib_es6.a)({},settings),this.settings.type&&"browser"===this.settings.type&&delete this.settings.type,this.options=options,this.buffer=options.disableClientPersistence?new priority_queue.b(4,[]):new persisted.a(4,"dest-".concat(name)),this.scheduleFlush()}return LegacyDestination.prototype.isLoaded=function(){return this._ready},LegacyDestination.prototype.ready=function(){var _a;return null!==(_a=this.onReady)&&void 0!==_a?_a:Promise.resolve()},LegacyDestination.prototype.load=function(ctx,analyticsInstance){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var _a,_this=this;return Object(tslib_es6.d)(this,(function(_b){switch(_b.label){case 0:return this._ready||void 0!==this.onReady?[2]:(_a=this,[4,loadIntegration(ctx,analyticsInstance,this.name,this.version,this.settings,this.options.obfuscate)]);case 1:_a.integration=_b.sent(),this.onReady=new Promise((function(resolve){_this.integration.once("ready",(function(){_this._ready=!0,resolve(!0)}))})),this.onInitialize=new Promise((function(resolve){_this.integration.on("initialize",(function(){_this._initialized=!0,resolve(!0)}))}));try{ctx.stats.increment("analytics_js.integration.invoke",1,["method:initialize","integration_name:".concat(this.name)]),this.integration.initialize()}catch(error){throw ctx.stats.increment("analytics_js.integration.invoke.error",1,["method:initialize","integration_name:".concat(this.name)]),error}return[2]}}))}))},LegacyDestination.prototype.unload=function(_ctx,_analyticsInstance){return function unloadIntegration(name,version,obfuscate){return Object(tslib_es6.b)(this,void 0,void 0,(function(){var path,pathName,obfuscatedPathName,fullPath;return Object(tslib_es6.d)(this,(function(_a){return path=Object(parse_cdn.b)(),pathName=normalizeName(name),obfuscatedPathName=obfuscatePathName(name,obfuscate),fullPath="".concat(path,"/integrations/").concat(null!=obfuscatedPathName?obfuscatedPathName:pathName,"/").concat(version,"/").concat(null!=obfuscatedPathName?obfuscatedPathName:pathName,".dynamic.js.gz"),[2,Object(load_script.b)(fullPath)]}))}))}(this.name,this.version,this.options.obfuscate)},LegacyDestination.prototype.addMiddleware=function(){for(var _a,fn=[],_i=0;_i<arguments.length;_i++)fn[_i]=arguments[_i];this.middleware=(_a=this.middleware).concat.apply(_a,fn)},LegacyDestination.prototype.shouldBuffer=function(ctx){return"page"!==ctx.event.type&&(Object(connection.a)()||!1===this._ready||!1===this._initialized)},LegacyDestination.prototype.send=function(ctx,clz,eventType){var _a,_b;return Object(tslib_es6.b)(this,void 0,void 0,(function(){var plan,ev,planEvent,afterMiddleware,event,err_1;return Object(tslib_es6.d)(this,(function(_c){switch(_c.label){case 0:if(this.shouldBuffer(ctx))return this.buffer.push(ctx),this.scheduleFlush(),[2,ctx];if(plan=null===(_b=null===(_a=this.options)||void 0===_a?void 0:_a.plan)||void 0===_b?void 0:_b.track,ev=ctx.event.event,plan&&ev&&"Segment.io"!==this.name){if(planEvent=plan[ev],!Object(is_plan_event_enabled.a)(plan,planEvent))return ctx.updateEvent("integrations",Object(tslib_es6.a)(Object(tslib_es6.a)({},ctx.event.integrations),{All:!1,"Segment.io":!0})),ctx.cancel(new context.b({retry:!1,reason:"Event ".concat(ev," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"})),[2,ctx];if(ctx.updateEvent("integrations",Object(tslib_es6.a)(Object(tslib_es6.a)({},ctx.event.integrations),null==planEvent?void 0:planEvent.integrations)),(null==planEvent?void 0:planEvent.enabled)&&!1===(null==planEvent?void 0:planEvent.integrations[this.name]))return ctx.cancel(new context.b({retry:!1,reason:"Event ".concat(ev," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"})),[2,ctx]}return[4,Object(middleware.applyDestinationMiddleware)(this.name,(evt=ctx.event,JSON.parse(JSON.stringify(evt))),this.middleware)];case 1:if(null===(afterMiddleware=_c.sent()))return[2,ctx];event=new clz(afterMiddleware,{}),ctx.stats.increment("analytics_js.integration.invoke",1,["method:".concat(eventType),"integration_name:".concat(this.name)]),_c.label=2;case 2:return _c.trys.push([2,5,,6]),this.integration?[4,Object(as_promise.a)(this.integration.invoke.call(this.integration,eventType,event))]:[3,4];case 3:_c.sent(),_c.label=4;case 4:return[3,6];case 5:throw err_1=_c.sent(),ctx.stats.increment("analytics_js.integration.invoke.error",1,["method:".concat(eventType),"integration_name:".concat(this.name)]),err_1;case 6:return[2,ctx]}var evt}))}))},LegacyDestination.prototype.track=function(ctx){return Object(tslib_es6.b)(this,void 0,void 0,(function(){return Object(tslib_es6.d)(this,(function(_a){return[2,this.send(ctx,dist.Track,"track")]}))}))},LegacyDestination.prototype.page=function(ctx){var _a;return Object(tslib_es6.b)(this,void 0,void 0,(function(){var _this=this;return Object(tslib_es6.d)(this,(function(_b){return(null===(_a=this.integration)||void 0===_a?void 0:_a._assumesPageview)&&!this._initialized&&this.integration.initialize(),[2,this.onInitialize.then((function(){return _this.send(ctx,dist.Page,"page")}))]}))}))},LegacyDestination.prototype.identify=function(ctx){return Object(tslib_es6.b)(this,void 0,void 0,(function(){return Object(tslib_es6.d)(this,(function(_a){return[2,this.send(ctx,dist.Identify,"identify")]}))}))},LegacyDestination.prototype.alias=function(ctx){return Object(tslib_es6.b)(this,void 0,void 0,(function(){return Object(tslib_es6.d)(this,(function(_a){return[2,this.send(ctx,dist.Alias,"alias")]}))}))},LegacyDestination.prototype.group=function(ctx){return Object(tslib_es6.b)(this,void 0,void 0,(function(){return Object(tslib_es6.d)(this,(function(_a){return[2,this.send(ctx,dist.Group,"group")]}))}))},LegacyDestination.prototype.scheduleFlush=function(){var _this=this;this.flushing||setTimeout((function(){return Object(tslib_es6.b)(_this,void 0,void 0,(function(){var _a;return Object(tslib_es6.d)(this,(function(_b){switch(_b.label){case 0:return this.flushing=!0,_a=this,[4,flushQueue(this,this.buffer)];case 1:return _a.buffer=_b.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}}))}))}),5e3*Math.random())},LegacyDestination}();function ajsDestinations(settings,globalIntegrations,options){var _a,_b;if(void 0===globalIntegrations&&(globalIntegrations={}),void 0===options&&(options={}),Object(environment.b)())return[];settings.plan&&((options=null!=options?options:{}).plan=settings.plan);var rules,routingRules=null!==(_b=null===(_a=settings.middlewareSettings)||void 0===_a?void 0:_a.routingRules)&&void 0!==_b?_b:[],routingMiddleware=(rules=routingRules,function(_a){var payload=_a.payload,integration=_a.integration,next=_a.next;new tsub_dist.Store(rules).getRulesByDestinationName(integration).forEach((function(rule){for(var matchers=rule.matchers,transformers=rule.transformers,i=0;i<matchers.length;i++)if(tsub_dist.matches(payload.obj,matchers[i])&&(payload.obj=tsub_dist.transform(payload.obj,transformers[i]),null===payload.obj))return next(null)})),next(payload)}),integrationOptions=Object(merged_options.a)(settings,null!=options?options:{});return Object.entries(settings.integrations).map((function(_a){var _b,name=_a[0],integrationSettings=_a[1];if(!name.startsWith("Segment")){var allDisableAndNotDefined=!1===globalIntegrations.All&&void 0===globalIntegrations[name];if(!1!==globalIntegrations[name]&&!allDisableAndNotDefined){var type=integrationSettings.type,bundlingStatus=integrationSettings.bundlingStatus,versionSettings=integrationSettings.versionSettings;if(("unbundled"!==bundlingStatus&&("browser"===type||(null===(_b=null==versionSettings?void 0:versionSettings.componentTypes)||void 0===_b?void 0:_b.includes("browser")))||"Segment.io"===name)&&"Iterable"!==name){var version=function resolveVersion(settings){var _a,_b,_c,_d;return null!==(_d=null!==(_b=null===(_a=settings.versionSettings)||void 0===_a?void 0:_a.override)&&void 0!==_b?_b:null===(_c=settings.versionSettings)||void 0===_c?void 0:_c.version)&&void 0!==_d?_d:"latest"}(integrationSettings),destination=new ajs_destination_LegacyDestination(name,version,integrationOptions[name],options);return routingRules.filter((function(rule){return rule.destinationName===name})).length>0&&destination.addMiddleware(routingMiddleware),destination}}}})).filter((function(xt){return void 0!==xt}))}}}]);