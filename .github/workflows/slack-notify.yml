# uses https://github.com/marketplace/actions/slack-send to trigger a
# slack Workflow which posts the message to a specified slack channel
name: Slack Notify on PR Opened
on:
  pull_request:
    types: [opened]
jobs:
  trigger-workflow:
    runs-on: ubuntu-latest
    name: Trigger Workflow
    steps:
      - name: Call Slack Workflow
        uses: slackapi/slack-github-action@v1.15.0
        with:
          payload: '{"PR_Title":${PR_TITLE}, "PR_URL": ${PR_URL}, "PR_User": ${PR_USER}}'
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
          PR_TITLE: ${{ github.event.pull_request.title }}
          PR_URL: ${{ github.event.pull_request.url }}
          PR_USER: ${{ github.event.pull_request.user.login }}
