<html>
  <head>
    <title>sm-web-component</title>
  </head>
  <body>
    <sm-video id="video" tokenserver="http://localhost:4210/auth/authorize"></sm-video>
    <button id="connect">Connect</button>
    <button id="disconnect">Disconnect</button><br />
    <button id="enable-microphone">Enable Microphone</button>
    <button id="disable-microphone">Disable Microphone</button><br />
    <button id="send-message">Send Message</button><br />
    <button id="stop-speaking">Stop Speaking</button><br />
    <button id="test-sdk-persona">Test SDK Persona</button><br />
    <button id="test-sdk-scene">Test SDK Scene</button><br />
    <button id="test-sdk-userMedia">Test SDK</button><br />
    <script>
      var video = document.getElementById('video');

      let buttons = [
        { id: 'connect', action: () => video.connect() },
        { id: 'disconnect', action: () => video.disconnect() },
        { id: 'enable-microphone', action: () => video.setMicrophoneEnabled(true) },
        { id: 'disable-microphone', action: () => video.setMicrophoneEnabled(false) },
        { id: 'send-message', action: () => video.sendTextMessage('Test Message') },
        { id: 'stop-speaking', action: () => video.stopSpeaking() },
        {
          id: 'test-sdk-persona',
          action: () => {
            video.persona().stopSpeaking();
            console.log(`test-sdk-persona stopSpeaking`);
          },
        },
        {
          id: 'test-sdk-scene',
          action: () =>
            console.log(`test-sdk-scene isCameraConnected: ${video.scene().isCameraConnected()}`),
        },
        {
          id: 'test-sdk-userMedia',
          action: () => {
            console.log(`test-sdk-userMedia:`);
            console.log(video.smwebsdk().userMedia);
          },
        },
      ];

      buttons.forEach((button) => {
        let buttonElement = document.getElementById(button.id);
        buttonElement.addEventListener('click', button.action);
      });
    </script>
  </body>
</html>
